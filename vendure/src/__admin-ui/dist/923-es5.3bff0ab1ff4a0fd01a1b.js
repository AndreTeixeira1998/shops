!function(){"use strict";function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function n(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function t(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkvendure_admin_ui=self.webpackChunkvendure_admin_ui||[]).push([[923],{11923:function(n,r,o){o.r(r),o.d(r,{LoginComponent:function(){return b},LoginGuard:function(){return x},LoginModule:function(){return y},loginRoutes:function(){return Z}});var i=o(51694),a=o(41460),c=o(49962),s=o(37097),l=o(21067),g=o(56258),u=o(70942),p=o(53198);function d(e,n){1&e&&(i.TgZ(0,"span"),i._uU(1,"vendure"),i.qZA())}function h(e,n){1&e&&(i.TgZ(0,"span"),i._uU(1,"-"),i.qZA())}function m(e,n){if(1&e&&(i.TgZ(0,"span"),i._uU(1),i.YNc(2,h,2,0,"span",4),i.qZA()),2&e){var t=i.oxw();i.xp6(1),i.hij("",t.brand," "),i.xp6(1),i.Q6J("ngIf",!t.hideVendureBranding||!t.hideVersion)}}function f(e,n){1&e&&(i.TgZ(0,"span"),i._uU(1,"vendure"),i.qZA())}function v(e,n){if(1&e&&(i.TgZ(0,"span"),i._uU(1),i.qZA()),2&e){var t=i.oxw();i.xp6(1),i.hij("v",t.version,"")}}var b=function(){function n(t,r){e(this,n),this.authService=t,this.router=r,this.username="",this.password="",this.rememberMe=!1,this.version=c.s5M,this.brand=(0,c.hq7)().brand,this.hideVendureBranding=(0,c.hq7)().hideVendureBranding,this.hideVersion=(0,c.hq7)().hideVersion}return t(n,[{key:"logIn",value:function(){var e=this;this.errorMessage=void 0,this.authService.logIn(this.username,this.password,this.rememberMe).subscribe(function(n){switch(n.__typename){case"CurrentUser":var t=e.getRedirectRoute();e.router.navigateByUrl(t||"/");break;case"InvalidCredentialsError":case"NativeAuthStrategyError":e.errorMessage=n.message}})}},{key:"getRedirectRoute",value:function(){var e,n=new RegExp("".concat(c.ONw,"=(.*)"));try{var t=window.location.search.match(n);t&&1<t.length&&(e=atob(decodeURIComponent(t[1])))}catch(t){}return e}}]),n}();b.\u0275fac=function(e){return new(e||b)(i.Y36(c.e80),i.Y36(a.F0))},b.\u0275cmp=i.Xpm({type:b,selectors:[["vdr-login"]],decls:26,vars:25,consts:[[1,"login-wrapper"],[1,"login"],[1,"title"],["src","assets/logo-300px.png"],[4,"ngIf"],[1,"login-group"],["type","text","name","username","id","login_username",1,"username",3,"ngModel","placeholder","ngModelChange"],["name","password","type","password","id","login_password",1,"password",3,"ngModel","placeholder","ngModelChange"],[1,"login-error",3,"clrAlertType","clrAlertClosable"],[1,"alert-text"],["type","checkbox","clrCheckbox","","id","rememberme","name","rememberme",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary",3,"disabled","click"],[1,"version"]],template:function(e,n){1&e&&(i.TgZ(0,"div",0),i.TgZ(1,"form",1),i.TgZ(2,"label",2),i._UZ(3,"img",3),i.YNc(4,d,2,0,"span",4),i.qZA(),i.TgZ(5,"div",5),i.TgZ(6,"input",6),i.NdJ("ngModelChange",function(e){return n.username=e}),i.ALo(7,"translate"),i.qZA(),i.TgZ(8,"input",7),i.NdJ("ngModelChange",function(e){return n.password=e}),i.ALo(9,"translate"),i.qZA(),i.TgZ(10,"clr-alert",8),i.TgZ(11,"clr-alert-item"),i.TgZ(12,"span",9),i._uU(13),i.qZA(),i.qZA(),i.qZA(),i.TgZ(14,"clr-checkbox-wrapper"),i.TgZ(15,"input",10),i.NdJ("ngModelChange",function(e){return n.rememberMe=e}),i.qZA(),i.TgZ(16,"label"),i._uU(17),i.ALo(18,"translate"),i.qZA(),i.qZA(),i.TgZ(19,"button",11),i.NdJ("click",function(){return n.logIn()}),i._uU(20),i.ALo(21,"translate"),i.qZA(),i.qZA(),i.TgZ(22,"div",12),i.YNc(23,m,3,2,"span",4),i.YNc(24,f,2,0,"span",4),i.YNc(25,v,2,1,"span",4),i.qZA(),i.qZA(),i.qZA()),2&e&&(i.xp6(4),i.Q6J("ngIf",!n.hideVendureBranding),i.xp6(2),i.Q6J("ngModel",n.username)("placeholder",i.lcZ(7,17,"common.username")),i.xp6(2),i.Q6J("ngModel",n.password)("placeholder",i.lcZ(9,19,"common.password")),i.xp6(2),i.ekj("visible",n.errorMessage),i.Q6J("clrAlertType","danger")("clrAlertClosable",!1),i.xp6(3),i.hij(" ",n.errorMessage," "),i.xp6(2),i.Q6J("ngModel",n.rememberMe),i.xp6(2),i.Oqu(i.lcZ(18,21,"common.remember-me")),i.xp6(2),i.Q6J("disabled",!n.username||!n.password),i.xp6(1),i.hij(" ",i.lcZ(21,23,"common.login")," "),i.xp6(3),i.Q6J("ngIf",n.brand),i.xp6(1),i.Q6J("ngIf",!n.hideVendureBranding),i.xp6(1),i.Q6J("ngIf",!n.hideVersion))},directives:[l._Y,l.JL,l.F,g.MgK,u.O5,c.y_K,l.Fj,l.JJ,l.On,g.TIm,g.CyW,g.I9z,g.PEh,l.Wl,g.KKC],pipes:[p.X$],styles:[".login-wrapper[_ngcontent-%COMP%]{background-image:linear-gradient(135deg,var(--color-login-gradient-top),var(--color-login-gradient-bottom)),var(--login-page-bg);background-blend-mode:screen;background-repeat:repeat;background-size:auto;background-position:initial;justify-content:center}@media screen and (max-width: 768px){.login-wrapper[_ngcontent-%COMP%]{justify-content:center;background-color:transparent}.login-wrapper[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]{margin:20px;padding:24px}}.login[_ngcontent-%COMP%]{margin:5vh 0;border-radius:6px;min-height:calc(100vh - 10vh);max-height:800px}.title[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;margin-top:8vh}.title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;width:150px}.title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-top:12px;font-weight:bold;color:var(--color-primary-500);font-size:38px}.version[_ngcontent-%COMP%]{flex:1;display:flex;align-items:flex-end;justify-content:center;color:var(--color-grey-300)}.version[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{margin-left:5px}.login-error[_ngcontent-%COMP%]{max-height:0;overflow:hidden}.login-error.visible[_ngcontent-%COMP%]{max-height:46px;transition:max-height .2s;animation:shake .82s cubic-bezier(.36,.07,.19,.97) both;animation-delay:.2s;transform:translate(0);-webkit-backface-visibility:hidden;backface-visibility:hidden;perspective:1000px}@keyframes shake{10%,90%{transform:translate(-1px)}20%,80%{transform:translate(2px)}30%,50%,70%{transform:translate(-4px)}40%,60%{transform:translate(4px)}}"]}),b.ctorParameters=function(){return[{type:c.e80},{type:a.F0}]};var x=function(){function n(t,r){e(this,n),this.router=t,this.authService=r}return t(n,[{key:"canActivate",value:function(e){var n=this;return this.authService.checkAuthenticatedStatus().pipe((0,s.U)(function(e){return e&&n.router.navigate(["/"]),!e}))}}]),n}();x.\u0275fac=function(e){return new(e||x)(i.LFG(a.F0),i.LFG(c.e80))},x.\u0275prov=i.Yz7({factory:function(){return new x(i.LFG(a.F0),i.LFG(c.e80))},token:x,providedIn:"root"}),x.ctorParameters=function(){return[{type:a.F0},{type:c.e80}]};var Z=[{path:"",component:b,pathMatch:"full",canActivate:[x]}],y=t(function n(){e(this,n)});y.\u0275fac=function(e){return new(e||y)},y.\u0275mod=i.oAB({type:y}),y.\u0275inj=i.cJS({imports:[[c.m81,a.Bz.forChild(Z)]]})}}])}();
//# sourceMappingURL=923-es5.3bff0ab1ff4a0fd01a1b.js.map