"use strict";(self.webpackChunkvendure_admin=self.webpackChunkvendure_admin||[]).push([[213],{7213:(P,d,r)=>{r.r(d),r.d(d,{default:()=>N});var a=r(1767),p=r(9248),e=r(6108),g=r(2977),m=r(8046),v=r(4285),h=r(1317);function f(n,o){if(1&n&&e._uU(0),2&n){const t=o.item;e.hij(" ",t.id," ")}}function C(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1," (CREDIT)"),e.qZA())}const u=function(n){return["../../orders",n]};function I(n,o){if(1&n&&(e.TgZ(0,"a",8)(1,"span"),e._uU(2),e.YNc(3,C,2,0,"span",9),e.qZA()()),2&n){const t=o.item;e.Q6J("routerLink",e.VKq(3,u,t.orderId)),e.xp6(2),e.Oqu(t.invoiceNumber),e.xp6(1),e.Q6J("ngIf",t.isCreditInvoice)}}function _(n,o){if(1&n&&(e._uU(0),e.ALo(1,"localeDate")),2&n){const t=o.item;e.hij(" ",e.xi3(1,1,t.createdAt,"short")," ")}}function Z(n,o){if(1&n&&(e.TgZ(0,"a",8)(1,"span"),e._uU(2),e.qZA()()),2&n){const t=o.item;e.Q6J("routerLink",e.VKq(2,u,t.orderId)),e.xp6(2),e.Oqu(t.orderCode)}}function T(n,o){if(1&n&&(e.TgZ(0,"a",10),e._UZ(1,"clr-icon",11),e.qZA()),2&n){const t=o.item;e.Q6J("href",t.downloadUrl,e.LSH)}}const L=p.Ps`
  query InvoiceList($options: InvoiceListOptions) {
    invoices(options: $options) {
      items {
        id
        createdAt
        invoiceNumber
        downloadUrl
        isCreditInvoice
        orderCode
        orderId
      }
      totalItems
    }
  }
`;class s extends a.$ms{constructor(){super(),this.filters=this.createFilterCollection().addFilter({name:"orderCode",type:{kind:"text"},label:"Order Code",filterField:"orderCode"}).addFilter({name:"invoiceNumber",type:{kind:"text"},label:"Invoice Number",filterField:"invoiceNumber"}).connectToRoute(this.route),super.configure({document:L,getItems:o=>o.invoices,setVariables:(o,t)=>this.createQueryOptions(o,t,this.searchTermControl.value),refreshListOnChanges:[this.filters.valueChanges]})}createQueryOptions(o,t,i){let c=this.filters.createFilterInput();return i&&(c={invoiceNumber:{contains:i},orderCode:{contains:i}}),{options:{skip:o,take:t,filter:{...c??{}},filterOperator:i?a.FnJ.OR:a.FnJ.AND}}}static#e=this.\u0275fac=function(t){return new(t||s)};static#t=this.\u0275cmp=e.Xpm({type:s,selectors:[["invoice-list"]],standalone:!0,features:[e.qOj,e.jDz],decls:19,vars:25,consts:[["id","invoice-list",3,"items","itemsPerPage","totalItems","currentPage","pageChange","itemsPerPageChange"],["locationId","invoice-list",3,"hostComponent","selectionManager"],["searchTermPlaceholder","Search by Invoice Number / Order Code",3,"searchTermControl"],["id","id",3,"heading","hiddenByDefault"],["id","invoiceNumber","heading","Invoice number",3,"optional"],["id","created-at",3,"heading"],["id","order","heading","For order",3,"optional"],["id","downloadUrl","heading","Download",3,"optional"],[1,"button-ghost",3,"routerLink"],[4,"ngIf"],["target","_blank",3,"href"],["shape","download"]],template:function(t,i){1&t&&(e.TgZ(0,"vdr-data-table-2",0),e.NdJ("pageChange",function(l){return i.setPageNumber(l)})("itemsPerPageChange",function(l){return i.setItemsPerPage(l)}),e.ALo(1,"async"),e.ALo(2,"async"),e.ALo(3,"async"),e.ALo(4,"async"),e._UZ(5,"vdr-bulk-action-menu",1)(6,"vdr-dt2-search",2),e.TgZ(7,"vdr-dt2-column",3),e.ALo(8,"translate"),e.YNc(9,f,1,1,"ng-template"),e.qZA(),e.TgZ(10,"vdr-dt2-column",4),e.YNc(11,I,4,5,"ng-template"),e.qZA(),e.TgZ(12,"vdr-dt2-column",5),e.ALo(13,"translate"),e.YNc(14,_,2,4,"ng-template"),e.qZA(),e.TgZ(15,"vdr-dt2-column",6),e.YNc(16,Z,3,4,"ng-template"),e.qZA(),e.TgZ(17,"vdr-dt2-column",7),e.YNc(18,T,2,1,"ng-template"),e.qZA()()),2&t&&(e.Q6J("items",e.lcZ(1,13,i.items$))("itemsPerPage",e.lcZ(2,15,i.itemsPerPage$))("totalItems",e.lcZ(3,17,i.totalItems$))("currentPage",e.lcZ(4,19,i.currentPage$)),e.xp6(5),e.Q6J("hostComponent",i)("selectionManager",i.selectionManager),e.xp6(1),e.Q6J("searchTermControl",i.searchTermControl),e.xp6(1),e.Q6J("heading",e.lcZ(8,21,"common.id"))("hiddenByDefault",!0),e.xp6(3),e.Q6J("optional",!1),e.xp6(2),e.Q6J("heading",e.lcZ(13,23,"common.created-at")),e.xp6(3),e.Q6J("optional",!1),e.xp6(2),e.Q6J("optional",!1))},dependencies:[a.m81,g.qvL,m.O5,m.Ov,v.rH,h.X$,a.HbD,a.cuf,a.eJ5,a.Up6,a.JBy],changeDetection:0})}const N=[(0,a._B9)({path:"",component:s,breadcrumb:"Invoices"})]}}]);
//# sourceMappingURL=213.d6f3b95807b39f12.js.map